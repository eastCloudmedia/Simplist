<?php


namespace Model\Repository;
use Model\Connection;
//use Illuminate\Database\Capsule;

abstract class BaseRepository
{
    protected static $Model;
    protected $rStatement;
    public $Table;
    protected $PrimaryKey;
    protected $uName;
    protected $uPass;
    protected $uMail;
    public function __construct()
    {
        $this->rStatement=new Connection\Statement();
    }
    public function Find(int $ID)
    {
        $Result = $this->rStatement->Commander("SELECT * FROM {$this->Table} WHERE {$this->PrimaryKey}={$ID}");
        return $Result->fetch(\PDO::FETCH_ASSOC);
    }
    public function FindByUser(string $Username)
    {
        $Result = $this->rStatement->Commander("SELECT * FROM {$this->Table} WHERE {$this->uName}='".$Username."'");
        return ['Values'=>$Result->fetch(\PDO::FETCH_ASSOC),'Rows'=>$Result->rowCount()];
    }
    public function FindByEmail(string $Email)
    {
        $Result = $this->rStatement->Commander("SELECT * FROM {$this->Table} WHERE {$this->uMail}={$Email}");
        return ['Values'=>$Result->fetch(\PDO::FETCH_ASSOC),'Rows'=>$Result->rowCount()];
    }
    public function All()
    {
        $Result = $this->rStatement->Commander("SELECT * FROM {$this->Table}");
        return $Result->fetchAll(\PDO::FETCH_ASSOC);
    }

}